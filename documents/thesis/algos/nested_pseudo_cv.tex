\begin{algorithm}
\caption{Nested pseudo cross validation} \label{alg:nested-pcv}
    \begin{algorithmic}[1]
        \Function{NestedPseudoCV}{$(x_i, y_i)_{i = 1, \ldots, n}$; $h = (h_1, h_2)$}
            \State Fit $f_1$ to $(X; y)$ subject to $h_1$ in a $k$-fold cross-validation, 
                yielding cross-validated predictions $\hat{y}^{(1)}$.
            \State Fit $f$ to $(\hat{y}^{(1)}, f_2(X), f_3(X), \ldots, f_m(X); y)$ 
                subject to $h_2$ in a $k$-fold cross-validation, yielding 
                cross-validated predictions $\hat{y}$.
            \State $g \gets f \circ (f_1, \ldots, f_n)$
            \State \Return $(\hat{y}, g)$
        \EndFunction
    \end{algorithmic}
\end{algorithm}